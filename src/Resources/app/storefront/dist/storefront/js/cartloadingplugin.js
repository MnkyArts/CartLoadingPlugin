"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["cartloadingplugin"],{3325:(t,e,r)=>{var i=r(4229);class n extends i.Z{init(){super.init(),this._buyBtn=this.el.querySelector(".btn-buy"),this._buyBtn.addEventListener("click",this._changeCartText.bind(this))}_changeCartText(){const t=this._buyBtn.innerHTML;this._buyBtn.innerHTML=buyBtnText,this._buyBtn.classList.add("btn-cart-loading"),setTimeout((()=>{this._buyBtn.innerHTML=t,this._buyBtn.classList.remove("btn-cart-loading")}),1e3)}}const{PluginManager:s}=window;s.override("AddToCart",n,"[data-add-to-cart]")},4229:(t,e,r)=>{r.d(e,{Z:()=>f});var i,n,s,o=r(6285),a=r(9068),c=r(1966),u=r(3206),h=r(207);class f extends o.Z{init(){if(this._getForm(),!this._form)throw new Error(`No form found for the plugin: ${this.constructor.name}`);this._prepareFormRedirect(),this._registerEvents()}_prepareFormRedirect(){try{const t=u.Z.querySelector(this._form,this.options.redirectSelector),e=u.Z.querySelector(this._form,this.options.redirectParamSelector);t.value=this.options.redirectTo,e.disabled=!0}catch(t){}}_getForm(){this.el&&"FORM"===this.el.nodeName?this._form=this.el:this._form=this.el.closest("form")}_registerEvents(){this.el.addEventListener("submit",this._formSubmit.bind(this))}_formSubmit(t){t.preventDefault();const e=u.Z.getAttribute(this._form,"action"),r=h.Z.serialize(this._form);this.$emitter.publish("beforeFormSubmit",r),this._openOffCanvasCarts(e,r)}_openOffCanvasCarts(t,e){const r=a.Z.getPluginInstances("OffCanvasCart");c.Z.iterate(r,(r=>this._openOffCanvasCart(r,t,e)))}_openOffCanvasCart(t,e,r){t.openOffCanvas(e,r,(()=>{this.$emitter.publish("openOffCanvasCart")}))}}i=f,s={redirectSelector:'[name="redirectTo"]',redirectParamSelector:'[data-redirect-parameters="true"]',redirectTo:"frontend.cart.offcanvas"},(n=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(n="options"))in i?Object.defineProperty(i,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[n]=s}},t=>{t.O(0,["vendor-node","vendor-shared"],(()=>{return e=3325,t(t.s=e);var e}));t.O()}]);